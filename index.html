<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FSÂ∞èÊâãÊú∫</title>
    
    <!-- PWA Áõ∏ÂÖ≥ -->
    <link rel="manifest" href="/manifest.webmanifest">
    <link rel="icon" href="/icon192.png">
    <link rel="apple-touch-icon" href="/icon192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app-container">
        
        <!-- ======================= -->
        <!-- È°µÈù¢ 1ÔºöÂ•ΩÂèãÂàóË°® (È¶ñÈ°µ) -->
        <!-- ======================= -->
        <div id="view-contact-list">
            <header class="app-header">
                <h1>ÈÄöËÆØÂΩï</h1>
                <!-- Âè≥‰∏äËßíÊ∑ªÂä†ÊåâÈíÆ -->
                <button id="add-contact-btn" class="header-icon-btn right" title="Ê∑ªÂä†Êñ∞ËßíËâ≤">Ôºã</button>
            </header>
            
            <div id="contact-list-container">
                <!-- ËøôÈáåÁöÑÂàóË°®Áî± JS Âä®ÊÄÅÁîüÊàê -->
            </div>
        </div>

        <!-- ======================= -->
        <!-- È°µÈù¢ 2ÔºöËÅäÂ§©Á™óÂè£ (ÈöêËóè) -->
        <!-- ======================= -->
        <div id="view-chat" class="hidden">
            <header class="app-header">
                <!-- Â∑¶‰∏äËßíËøîÂõûÊåâÈíÆ -->
                <button id="back-btn" class="header-icon-btn left" title="ËøîÂõûÂàóË°®">‚Äπ</button>
                
                <h1 id="chat-title">ËßíËâ≤Âêç</h1>
                <!-- Áä∂ÊÄÅÊñáÊú¨ -->
                <p id="typing-status">Âú®Á∫ø</p>

                <!-- Âè≥‰∏äËßíËÆæÁΩÆÊåâÈíÆ (ÂéüÊù•ÁöÑÊ∏ÖÁ©∫ÊåâÈíÆÊîπÊàê‰∫ÜËøô‰∏™ÔºåÊàñËÄÖÂπ∂Âú®ËÆæÁΩÆÈáå) -->
                <button id="chat-settings-btn" class="header-icon-btn right" title="ËÆæÁΩÆ/Ê∏ÖÁ©∫">‚öô</button>
            </header>
            
            <div id="chat-window">
                <div id="chat-messages">
                    <!-- Ê∂àÊÅØÁî± JS Âä®ÊÄÅÊèíÂÖ• -->
                </div>
            </div>

            <footer class="app-footer">
                <button id="reroll-footer-btn" class="footer-btn">‚ú¶</button>
                <input type="text" id="task-input" placeholder="ËØ¥ÁÇπ‰ªÄ‰πà...">
                <button id="send-button">‚û§</button>
            </footer>
        </div>

    </div>

    <!-- ======================= -->
    <!-- ÂºπÁ™óÔºöÁºñËæë/Ê∑ªÂä†ËßíËâ≤ -->
    <!-- ======================= -->
    <div id="modal-overlay" class="hidden">
        <div class="modal glass-panel">
            <h2 id="modal-title">ÁºñËæëËßíËâ≤</h2>
            
            <div class="input-group">
                <label>ÂêçÂ≠ó</label>
                <input type="text" id="edit-name" placeholder="‰æãÂ¶ÇÔºöÊØíËàåÂ•≥‰ªÜ">
            </div>

            <div class="input-group">
                <label>Â§¥ÂÉè (Emoji Êàñ ÂõæÁâáURL)</label>
                <input type="text" id="edit-avatar" placeholder="ü¶ë Êàñ http://..." value="ü¶ë">
            </div>

            <div class="input-group">
                <label>‰∫∫ËÆæ (System Prompt)</label>
                <textarea id="edit-prompt" rows="5" placeholder="‰Ω†ÊòØ‰∏Ä‰∏™..."></textarea>
            </div>
            
            <div class="modal-buttons">
                <button id="modal-cancel">ÂèñÊ∂à</button>
                <button id="modal-save" class="primary">‰øùÂ≠ò</button>
            </div>
            
            <div class="modal-danger-zone">
                <button id="modal-clear-history" class="danger-btn outline">Ê∏ÖÁ©∫ËÅäÂ§©ËÆ∞ÂΩï</button>
                <button id="modal-delete" class="danger-btn">Âà†Èô§Ê≠§ËßíËâ≤</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>